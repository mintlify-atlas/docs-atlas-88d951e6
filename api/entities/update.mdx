---
title: "Update Entity"
description: "Update an existing entity's details"
---

## Overview

Updates an existing entity's properties such as name or metadata. Note that you cannot change the entity's ID, customer, or feature after creation.

## Endpoint

```
PATCH /v1/entities/{entity_id}
```

## Authentication

Requires a secret API key in the Authorization header:

```
Authorization: Bearer your_secret_key
```

## Path Parameters

<ParamField path="entity_id" type="string" required>
  The unique identifier of the entity to update
</ParamField>

## Request Body

<ParamField body="name" type="string">
  The new name for the entity. This is displayed to customers and helps them understand what they're being charged for.
</ParamField>

## Response

<ResponseField name="id" type="string">
  The unique identifier of the entity
</ResponseField>

<ResponseField name="name" type="string">
  The updated name of the entity
</ResponseField>

<ResponseField name="customer_id" type="string">
  The customer ID this entity belongs to (unchanged)
</ResponseField>

<ResponseField name="feature_id" type="string">
  The feature ID this entity counts toward (unchanged)
</ResponseField>

<ResponseField name="created_at" type="number">
  Unix timestamp (in seconds) when the entity was created
</ResponseField>

<ResponseField name="env" type="string">
  The environment: "sandbox" or "live"
</ResponseField>

<ResponseField name="subscriptions" type="array">
  Plans associated with this entity
</ResponseField>

<ResponseField name="balances" type="object">
  Feature balances associated with this entity
</ResponseField>

## Examples

<CodeGroup>

```bash curl
curl -X PATCH https://api.useautumn.com/v1/entities/user_456 \
  -H "Authorization: Bearer sk_test_..." \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Alice Johnson (Admin)"
  }'
```

```javascript JavaScript SDK
import { Autumn } from '@useautumn/sdk';

const autumn = new Autumn({
  secretKey: 'sk_test_...'
});

const entity = await autumn.entities.update('user_456', {
  name: 'Alice Johnson (Admin)'
});

console.log(entity.name); // "Alice Johnson (Admin)"
```

```typescript TypeScript SDK
import { Autumn } from '@useautumn/sdk';

const autumn = new Autumn({
  secretKey: process.env.AUTUMN_SECRET_KEY!
});

const entity = await autumn.entities.update('user_456', {
  name: 'Alice Johnson (Admin)'
});
```

```python Python
import requests

response = requests.patch(
    'https://api.useautumn.com/v1/entities/user_456',
    headers={
        'Authorization': 'Bearer sk_test_...',
        'Content-Type': 'application/json',
    },
    json={
        'name': 'Alice Johnson (Admin)'
    }
)

entity = response.json()
```

</CodeGroup>

## Response Example

```json
{
  "id": "user_456",
  "name": "Alice Johnson (Admin)",
  "customer_id": "team_123",
  "feature_id": "team_seats",
  "created_at": 1709251200,
  "env": "live",
  "subscriptions": [],
  "scheduled_subscriptions": [],
  "balances": {}
}
```

## Use Cases

### Update Team Member Role

```javascript
// Update entity name when user role changes
async function promoteToAdmin(userId) {
  const user = await db.users.findById(userId);
  await db.users.update(userId, { role: 'admin' });
  
  // Update entity name to reflect new role
  await autumn.entities.update(userId, {
    name: `${user.name} (Admin)`
  });
}
```

### Rename Workspace

```javascript
// Update entity when workspace is renamed
async function renameWorkspace(workspaceId, newName) {
  await db.workspaces.update(workspaceId, { name: newName });
  
  // Keep entity in sync
  await autumn.entities.update(workspaceId, {
    name: newName
  });
}
```

### Sync Entity Names

```javascript
// Batch update entities to sync with your database
async function syncEntityNames(customerId) {
  const entities = await autumn.entities.list({ customerId });
  const users = await db.users.findByIds(entities.list.map(e => e.id));
  
  for (const user of users) {
    const entity = entities.list.find(e => e.id === user.id);
    if (entity && entity.name !== user.name) {
      await autumn.entities.update(user.id, {
        name: user.name
      });
    }
  }
}
```

## Important Notes

<Warning>
  You cannot change the entity's `id`, `customer_id`, or `feature_id` after creation. If you need to change these, delete the entity and create a new one.
</Warning>

<Tip>
  Keep entity names in sync with your database to provide transparency to customers about what they're being charged for.
</Tip>

<Info>
  Updating an entity's name does not affect billing. It only changes how the entity is displayed to customers.
</Info>

## Error Responses

<ResponseField name="404 Not Found">
  The entity with the specified ID does not exist
  
  ```json
  {
    "error": {
      "code": "not_found",
      "message": "Entity not found"
    }
  }
  ```
</ResponseField>

<ResponseField name="400 Bad Request">
  Invalid request parameters
  
  ```json
  {
    "error": {
      "code": "validation_error",
      "message": "Invalid entity name"
    }
  }
  ```
</ResponseField>

<ResponseField name="401 Unauthorized">
  Invalid or missing API key
  
  ```json
  {
    "error": {
      "code": "unauthorized",
      "message": "Invalid API key"
    }
  }
  ```
</ResponseField>

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Get Entity" icon="eye" href="/api/entities/get">
    Retrieve entity details
  </Card>
  <Card title="Create Entity" icon="plus" href="/api/entities/create">
    Create a new entity
  </Card>
  <Card title="Delete Entity" icon="trash" href="/api/entities/delete">
    Delete an entity
  </Card>
  <Card title="List Entities" icon="list" href="/api/entities/list">
    List all entities
  </Card>
</CardGroup>

## See Also

- [Entities Concept Guide](/concepts/entities)
- [Seat-based Pricing Guide](/guides/seat-based-pricing)